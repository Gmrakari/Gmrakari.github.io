---
title: 短连接和长连接的区别
date: 2021-06-26 10:25:40
tags: [Interview,Network]
---

# 短连接

连接->传输数据->关闭连接
比如HTTP是无状态的的短链接，浏览器和服务器每进行一次HTTP操作，就建立一次连接，但任务结束就中断连接。因为连接后接收了数据就断开了，所以每次数据接受处理不会有联系。 这也是HTTP协议无状态的原因之一。

# 长连接

连接->传输数据->保持连接 -> 传输数据-> ...........->直到一方关闭连接，多是客户端关闭连接。  
长连接指建立SOCKET连接后不管是否使用都保持连接，但安全性较差。

# 什么时候用长连接，短连接？

长连接多用于操作频繁，点对点的通讯，而且连接数不能太多情况，。每个TCP连接都需要三步握手，这需要时间，如果每个操作都是先连接，再操作的话那么处理速度会降低很多，所以每个操作完后都不断开，次处理时直接发送数据包就OK了，不用建立TCP连接。  
例如：数据库的连接用长连接， 如果用短连接频繁的通信会造成socket错误，而且频繁的socket 创建也是对资源的浪费。

而像WEB网站的http服务一般都用短连接，因为长连接对于服务端来说会耗费一定的资源，而像WEB网站这么频繁的成千上万甚至上亿客户端的连接用短连接会更省一些资源，如果用长连接，而且同时有成千上万的用户，如果每个用户都占用一个连接的话，那可想而知吧。所以并发量大，但每个用户无需频
繁操作情况下需用短连好。



- 在HTTP/1.0中默认使用短连接。也就是说，客户端和服务器每进行一次HTTP操作，就建立一次连接，任务结束就中断连接。
- 而从HTTP/1.1起，默认使用长连接，用以保持连接特性。

# 个人
长短连接应该相对于传输层中的TCP和UDP,如果需要大量访问的网站,就使用短连接，不保持建立状态
如果是那种需要频繁通信的，那么需要长连接，保持一种持续建立的状态

来源于:
[CSDN:N1314N]:[长连接与短连接的区别以及使用场景](https://blog.csdn.net/n1314n/article/details/90743858)  
[公众号拓拔阿秀]:[阿秀的校招笔记:计算机网络/7、HTTP长连接和短连接的区别](https://blog.csdn.net/n1314n/article/details/90743858)
